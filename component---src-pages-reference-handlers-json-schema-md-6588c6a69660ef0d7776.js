(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[141],{58179:function(e,n,a){"use strict";a.r(n),a.d(n,{_frontmatter:function(){return p},default:function(){return c}});var i,r=a(22122),l=a(19756),t=(a(15007),a(64983)),m=a(99536),d=a(73867),o=["components"],p={},s=(i="InlineAlert",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,t.mdx)("div",e)}),u={_frontmatter:p},x=m.Z;function c(e){var n=e.components,a=(0,l.Z)(e,o);return(0,t.mdx)(x,(0,r.Z)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,t.mdx)("h1",{id:"json-schema-handlers"},"JSON schema handlers"),(0,t.mdx)("p",null,"This handler allows you to load any remote REST service, and describe its request/response. With this handler, you can easily customize and control the built GraphQL schema."),(0,t.mdx)(s,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,t.mdx)("p",null,"The ",(0,t.mdx)("inlineCode",{parentName:"p"},"JsonSchema")," source in GraphQL Mesh uses a different capitalization scheme than other handlers. Using ",(0,t.mdx)("inlineCode",{parentName:"p"},"jsonSchema")," will result in an error.  "),(0,t.mdx)("p",null,"To get started, use the handler in your Mesh config file:"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "name": "MyApi",\n      "handler": {\n        "JsonSchema": {\n          "baseUrl": "https://some-service-url/endpoint-path/",\n          "operations": [\n            {\n              "type": "Query",\n              "field": "users",\n              "path": "/users",\n              "method": "GET",\n              "responseSchema": "https://my-json-schema/users.json"\n            }\n          ]\n        }\n      }\n    }\n  ]\n}\n')),(0,t.mdx)("p",null,"JSON Schema handlers can also use local sources, see ",(0,t.mdx)("a",{parentName:"p",href:"../handlers/index.md#reference-local-files-in-handlers"},"Reference local file handlers")," for more information."),(0,t.mdx)("h2",{id:"dynamic-header-values"},"Dynamic Header Values"),(0,t.mdx)(d.default,{mdxType:"Headers"}),(0,t.mdx)("h3",{id:"from-context"},"From Context"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "name": "MyGraphQLApi",\n      "handler": {\n        "JsonSchema": {\n          "baseUrl": "https://some-service-url/endpoint-path/",\n          "operationHeaders": {\n            "Authorization": "Bearer {context.headers[\'x-my-api-token\']}"\n          }\n        }\n      }\n    }\n  ]\n}\n')),(0,t.mdx)("h2",{id:"config-api-reference"},"Config API Reference"),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"baseUrl")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"operationHeaders")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"JSON"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"schemaHeaders")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"JSON"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"operations")," -  (required) Array of:",(0,t.mdx)("ul",{parentName:"li"},(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"object"),":",(0,t.mdx)("ul",{parentName:"li"},(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"field")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String"),", required)"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"description")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"type")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String (Query | Mutation | Subscription)"),", required)"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"requestSchema")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"Any"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"requestSample")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"Any"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"requestTypeName")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"responseSchema")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"Any"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"responseSample")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"Any"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"responseTypeName")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"String"),")"),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"argTypeMap")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"JSON"),")"))))),(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"ignoreErrorResponses")," (type: ",(0,t.mdx)("inlineCode",{parentName:"li"},"Boolean"),")")))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-reference-handlers-json-schema-md-6588c6a69660ef0d7776.js.map