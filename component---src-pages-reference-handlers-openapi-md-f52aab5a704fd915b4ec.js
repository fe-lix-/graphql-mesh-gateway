(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[521],{41510:function(e,n,a){"use strict";a.r(n),a.d(n,{_frontmatter:function(){return m},default:function(){return h}});var t=a(22122),r=a(19756),o=(a(15007),a(64983)),i=a(99536),l=a(73867),p=["components"],m={},d={_frontmatter:m},s=i.Z;function h(e){var n=e.components,a=(0,r.Z)(e,p);return(0,o.mdx)(s,(0,t.Z)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"openapi-handlers"},"OpenAPI handlers"),(0,o.mdx)("p",null,"This handler allows you to load remote or local ",(0,o.mdx)("a",{parentName:"p",href:"https://swagger.io"},"OpenAPI (2/3) and Swagger")," schemas. Based on ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.ibm.com/open/projects/openapi-to-graphql"},"OpenAPI-to-GraphQL"),"."),(0,o.mdx)("p",null,"You can import it using remote/local ",(0,o.mdx)("inlineCode",{parentName:"p"},".json")," or ",(0,o.mdx)("inlineCode",{parentName:"p"},".yaml"),". To use a local source with an API handler, see ",(0,o.mdx)("a",{parentName:"p",href:"../handlers/index.md#reference-local-files-in-handlers"},"Reference local file handlers")," for more information."),(0,o.mdx)("p",null,"To get started, use the handler in your Mesh config file:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "name": "MyOpenapiApi",\n      "handler": {\n        "openapi": {\n          "source": "https://my-api-source.com"\n        }\n      }\n    }\n  ]\n}\n')),(0,o.mdx)("h2",{id:"overriding-default-querymutation-operations"},"Overriding default Query/Mutation operations"),(0,o.mdx)("p",null,"By default, OpenAPI-to-GraphQL will place all GET operations into Query fields and all other operations into Mutation fields; with this option you can manually override this process."),(0,o.mdx)("p",null,"In order to switch between Query and Mutation operations, and vice versa, you need to define a rule per override, consisting of: OAS title, path of the operation, method of the operation and finally the destination type (e.g. Query or Mutation).\nSee example below:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "name": "MyOpenapiApi",\n      "handler": {\n        "openapi": {\n          "source": "https://my-api-source.com",\n          "selectQueryOrMutationField": [\n            {\n              "title": "Weather Service v1",\n              "path": "/weather/current",\n              "method": "post",\n              "type": "Query"\n            },\n            {\n              "title": "Weather Service v1",\n              "path": "/weather/forecast",\n              "method": "get",\n              "type": "Mutation"\n            }\n          ]\n        }\n      }\n    }\n  ]\n}\n')),(0,o.mdx)("h2",{id:"dynamic-header-values"},"Dynamic Header Values"),(0,o.mdx)(l.default,{mdxType:"Headers"}),(0,o.mdx)("h3",{id:"from-context"},"From Context"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "sources": [\n    {\n      "name": "MyGraphQLApi",\n      "handler": {\n        "openapi": {\n          "source": "./my-schema.json",\n          "operationHeaders": {\n            "Authorization": "Bearer {context.headers[\'x-my-api-token\']}"\n          }\n        }\n      }\n    }\n  ]\n}\n')),(0,o.mdx)("h2",{id:"examples"},"Examples"),(0,o.mdx)("p",null,"Here are some examples of OpenAPI Handlers:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://codesandbox.io/s/github/Urigo/graphql-mesh/tree/master/examples/openapi-javascript-wiki"},"JavaScript Wiki")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://codesandbox.io/s/github/Urigo/graphql-mesh/tree/master/examples/openapi-location-weather"},"Location Weather")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://codesandbox.io/s/github/Urigo/graphql-mesh/tree/master/examples/openapi-stackexchange"},"StackExchange")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://codesandbox.io/s/github/Urigo/graphql-mesh/tree/master/examples/openapi-stripe"},"Stripe")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://codesandbox.io/s/github/Urigo/graphql-mesh/tree/master/examples/openapi-subscriptions"},"Subscriptions Example with Webhooks")),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("a",{parentName:"li",href:"https://codesandbox.io/s/github/Urigo/graphql-mesh/tree/master/examples/openapi-youtrack"},"Youtrack"))),(0,o.mdx)("h2",{id:"config-api-reference"},"Config API Reference"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"source")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"Any"),", required) - A pointer to your API source - could be a local file, remote file or url endpoint"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"sourceFormat")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"String (json | yaml)"),") - Format of the source file"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"operationHeaders")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"JSON"),") - JSON object representing the Headers to add to the runtime of the API calls"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"schemaHeaders")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"JSON"),") - If you are using a remote URL endpoint to fetch your schema, you can set headers for the HTTP request to fetch your schema."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"baseUrl")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"String"),") - Specifies the URL on which all paths will be based on.\nOverrides the server object in the OAS."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"qs")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"JSON"),") - JSON object representing the query search parameters to add to the API calls"),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"includeHttpDetails")," (type: ",(0,o.mdx)("inlineCode",{parentName:"li"},"Boolean"),") - Include HTTP Response details to the result object")))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-reference-handlers-openapi-md-f52aab5a704fd915b4ec.js.map